<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[川上]]></title>
  <subtitle><![CDATA[少说多做]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://songg.gitcafe.io/"/>
  <updated>2015-08-31T15:18:55.672Z</updated>
  <id>http://songg.gitcafe.io/</id>
  
  <author>
    <name><![CDATA[Song]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[SolrCloud入门]]></title>
    <link href="http://songg.gitcafe.io/2015/08/30/solrcloud/"/>
    <id>http://songg.gitcafe.io/2015/08/30/solrcloud/</id>
    <published>2015-08-30T10:26:32.000Z</published>
    <updated>2015-08-31T15:18:55.672Z</updated>
    <content type="html"><![CDATA[<h2 id="SolrCloud是什么">SolrCloud是什么</h2><p>SolrCloud是基于Solr＋ZooKeeper实现的一套高可用、可容错的系统，用以完成分布式索引，查询请求负载均衡。在SolrCloud中数据可以按区存放的，这些区可以在多台机器上，同时其提供副本冗余，具有很好的可扩展性。而Zookeeper保证了创建索引和搜索请求都能被正确的路由。简单来说：SolrCloud就是官方提供的一种基于Zookeeper的Solr集群方案，所以说现在不带个cloud都不好意思跟别人说自己是集群方案。<br><a id="more"></a></p>
<h2 id="如何启动SolrCloud">如何启动SolrCloud</h2><h3 id="有交互的启动">有交互的启动</h3><p>下载的<a href="http://apache.fayea.com/lucene/solr/5.3.0" target="_blank" rel="external">solr</a>包的bin目录下面有很多脚本，其中solr脚本就可以很方便的让我们以cloud模式启动solr，只要敲入如下简单的命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bin/solr <span class="operator">-e</span> cloud</span><br></pre></td></tr></table></figure></p>
<p>这个方式会开启一个交互性的启动会话，指导你一步一步用内置的Zookpeer设置一个简单的SolrCloud集群。脚本启动时首先会让你指定你本地集群的Solr节点数，如果不指定脚本会默认指定2个节点。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Welcome to the SolrCloud example!</span><br><span class="line"> </span><br><span class="line">This interactive session will <span class="built_in">help</span> you launch a SolrCloud cluster on your <span class="built_in">local</span> workstation.</span><br><span class="line">To begin, how many Solr nodes would you like to run <span class="keyword">in</span> your <span class="built_in">local</span> cluster? (specify <span class="number">1</span>-<span class="number">4</span> nodes) [<span class="number">2</span>]</span><br></pre></td></tr></table></figure></p>
<p>自带的solr脚本最多支持设置4个solr节点。接下来脚本会让你指定每个节点使用的端口：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Please enter the port <span class="keyword">for</span> node1 [<span class="number">8983</span>]</span><br></pre></td></tr></table></figure></p>
<p>solr脚本还会打印出他启动每个节点使用的命令：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">solr start -cloud <span class="operator">-s</span> example/cloud/node1/solr -p <span class="number">8983</span></span><br></pre></td></tr></table></figure></p>
<p>上面这个命令就是在启动第一个节点，在生产环境就可以自己用这个命令启动第一个节点。在启动第一个节点的同时也会启动内置的Zookpeer服务器并绑定9983端口，s参数指定的是第一个节点的solr home目录，在启动完集群中所有solr节点后，脚本接着会让你输入你要创建的collection的名字<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Please provide a name <span class="keyword">for</span> your new collection: [gettingstarted]</span><br></pre></td></tr></table></figure></p>
<p>默认的名字就是gettingstarted<br>继续，脚本会让你指定用来分布式存储collection的shard个数。<br>继续，脚本会让你指定每个shard的副本数。<br>最后，脚本会让你指定配置目录，你可以选择basic_configs，data_driven_schema_configs，或者sample_techproducts_configs.以上目录都可以在server/solr/configsets/目录中看到，如果你不选择默认就是data_driven_schema_configs。<br>自此，你就成功搭建了一个简单的SolrCloud集群，并创建了一个名为gettingstarted的collection。不信你可以跑一下下面这个脚本验证一下。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bin/solr status</span><br></pre></td></tr></table></figure></p>
<p>如果你在上面的步骤中遇到任何问题，你也可以在example/cloud/node1/logs和example/cloud/node2/logs目录中查看log<br>成功搭建后，solrcloud会启动内嵌的jetty提供一整套http后台管理服务，<a href="http://localhost:8983/solr/#/～cloud" target="_blank" rel="external">http://localhost:8983/solr/#/～cloud</a>，在这里你可以看到collection是如何在集群中部署的。除了在后台直观的看到整个solrcloud的运行状况外，solrcloud也提供了一个简单的collection诊断脚本<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bin/solr healthcheck -c gettingstarted</span><br></pre></td></tr></table></figure></p>
<p>停止solrcloud集群可以用这个脚本<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bin/solr stop -all</span><br></pre></td></tr></table></figure></p>
<h3 id="静默启动方式">静默启动方式</h3><p>下面这个启动方式所有配置都会以默认值启动<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bin/solr <span class="operator">-e</span> cloud -noprompt</span><br></pre></td></tr></table></figure></p>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="SolrCloud是什么">SolrCloud是什么</h2><p>SolrCloud是基于Solr＋ZooKeeper实现的一套高可用、可容错的系统，用以完成分布式索引，查询请求负载均衡。在SolrCloud中数据可以按区存放的，这些区可以在多台机器上，同时其提供副本冗余，具有很好的可扩展性。而Zookeeper保证了创建索引和搜索请求都能被正确的路由。简单来说：SolrCloud就是官方提供的一种基于Zookeeper的Solr集群方案，所以说现在不带个cloud都不好意思跟别人说自己是集群方案。<br>]]>
    
    </summary>
    
      <category term="java" scheme="http://songg.gitcafe.io/tags/java/"/>
    
      <category term="solr" scheme="http://songg.gitcafe.io/tags/solr/"/>
    
      <category term="计算机" scheme="http://songg.gitcafe.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
      <category term="编程" scheme="http://songg.gitcafe.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hello World]]></title>
    <link href="http://songg.gitcafe.io/2015/08/30/hello-world/"/>
    <id>http://songg.gitcafe.io/2015/08/30/hello-world/</id>
    <published>2015-08-30T03:19:19.143Z</published>
    <updated>2015-08-30T03:19:19.143Z</updated>
    <content type="html"><![CDATA[<p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.<br><a id="more"></a></p>
<h2 id="Quick_Start">Quick Start</h2><h3 id="Create_a_new_post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Welcome to <a href="http://hexo.io/">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.<br>]]>
    
    </summary>
    
  </entry>
  
  <entry>
    <title><![CDATA[Can't Get The Conclusion]]></title>
    <link href="http://songg.gitcafe.io/2015/08/30/%E4%B8%8D%E5%96%84%E6%80%BB%E7%BB%93/"/>
    <id>http://songg.gitcafe.io/2015/08/30/不善总结/</id>
    <published>2015-08-30T03:04:04.000Z</published>
    <updated>2015-08-30T07:23:08.900Z</updated>
    <content type="html"><![CDATA[<p>发现自己并不是一个善于总结的人。<br><a id="more"></a><br>读了一些书，也只是抠抠字眼，看看故事，看完就忘，总不能从里面吸收一些东西，产生自己的想法，前段时间在看<a href="http://book.douban.com/subject/5922204/" target="_blank" rel="external">《曾国藩的正面和侧面》</a>一本书，权当看小说了，没有自己体系化的感悟出来。读再多书也没用吧。  </p>
<p>感觉自己从小就是这样，很多东西囫囵吞枣，静不下心来去思考，很容易分心，不知道是不是有多动症了？  </p>
<p>从小就被告知尽信书不如无书，但是我好像看谁写的书都觉得他说的有道理，这就是所谓的不够辩证吧，其实很多人写书也就是拿来圈钱的，只不过比我会说而已。<br><img src="http://ww1.sinaimg.cn/large/71a5bf3bgw1evkmi902y5j20sg0lcaak.jpg" alt="">  </p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=30967315&auto=1&height=66"></iframe>]]></content>
    <summary type="html">
    <![CDATA[<p>发现自己并不是一个善于总结的人。<br>]]>
    
    </summary>
    
      <category term="个人总结" scheme="http://songg.gitcafe.io/tags/%E4%B8%AA%E4%BA%BA%E6%80%BB%E7%BB%93/"/>
    
      <category term="随笔" scheme="http://songg.gitcafe.io/categories/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
</feed>
